<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Rigs of Rods project documentation"><link href=https://docs.rigsofrods.org/terrain-creation/terrn2-subsystem/ rel=canonical><meta name=author content="Rigs of Rods Community"><link rel="shortcut icon" href=../../ror-favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.4.0"><title>Terrn2 file format - Rigs of Rods documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.fe0cca5b.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content=#2196f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=blue> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#terrain-subsystem-terrn2 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://docs.rigsofrods.org/ title="Rigs of Rods documentation" class="md-header-nav__button md-logo" aria-label="Rigs of Rods documentation"> <img src=../../images/branding/RoR_Logo_TT.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Rigs of Rods documentation </span> <span class="md-header-nav__topic md-ellipsis"> Terrn2 file format </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> RigsOfRods/docs.rigsofrods.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../gameplay/beginners-guide/ class=md-tabs__link> Gameplay </a> </li> <li class=md-tabs__item> <a href=../../tools-tutorials/addons/ class=md-tabs__link> Tools and tutorials </a> </li> <li class=md-tabs__item> <a href=../../vehicle-creation/fileformat-truck/ class=md-tabs__link> Vehicle creation </a> </li> <li class=md-tabs__item> <a href=../intro/ class="md-tabs__link md-tabs__link--active"> Terrain creation </a> </li> <li class=md-tabs__item> <a href=../../rules/terms-of-service/ class=md-tabs__link> Rules </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://docs.rigsofrods.org/ title="Rigs of Rods documentation" class="md-nav__button md-logo" aria-label="Rigs of Rods documentation"> <img src=../../images/branding/RoR_Logo_TT.png alt=logo> </a> Rigs of Rods documentation </label> <div class=md-nav__source> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> RigsOfRods/docs.rigsofrods.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Gameplay <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Gameplay data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Gameplay </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../gameplay/beginners-guide/ title="Beginner's Guide" class=md-nav__link> Beginner's Guide </a> </li> <li class=md-nav__item> <a href=../../gameplay/general-faq/ title="General FAQ" class=md-nav__link> General FAQ </a> </li> <li class=md-nav__item> <a href=../../gameplay/version-2020-01-faq/ title="Version 2020.01 FAQ" class=md-nav__link> Version 2020.01 FAQ </a> </li> <li class=md-nav__item> <a href=../../gameplay/installing-content/ title="Installing content (mods)" class=md-nav__link> Installing content (mods) </a> </li> <li class=md-nav__item> <a href=../../gameplay/controls-config/ title="Controls and configuration" class=md-nav__link> Controls and configuration </a> </li> <li class=md-nav__item> <a href=../../gameplay/aircraft-handling/ title="Aircraft handling" class=md-nav__link> Aircraft handling </a> </li> <li class=md-nav__item> <a href=../../gameplay/multiplayer-server-setup/ title="Multiplayer server setup" class=md-nav__link> Multiplayer server setup </a> </li> <li class=md-nav__item> <a href=../../gameplay/jargon/ title=Jargon class=md-nav__link> Jargon </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Tools and tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Tools and tutorials" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tools and tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools-tutorials/addons/ title="Installing addons" class=md-nav__link> Installing addons </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/blender-mesh-editing/ title="Blender mesh editing" class=md-nav__link> Blender mesh editing </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/blender-beginner/ title="Blender beginner" class=md-nav__link> Blender beginner </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/visual-editors/ title="Visual editors" class=md-nav__link> Visual editors </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/contributing-github/ title="How to contribute to community projects using GitHub" class=md-nav__link> How to contribute to community projects using GitHub </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Vehicle creation <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Vehicle creation" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Vehicle creation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../vehicle-creation/fileformat-truck/ title="Truck file format" class=md-nav__link> Truck file format </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/fileformat-soundscript/ title="Soundscript file format" class=md-nav__link> Soundscript file format </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/alternate-skins/ title="Alternate skins (skinzips)" class=md-nav__link> Alternate skins (skinzips) </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/engine/ title=Engine class=md-nav__link> Engine </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/flares/ title=Flares class=md-nav__link> Flares </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/flexbody-wheels/ title="Flexbody wheels" class=md-nav__link> Flexbody wheels </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/aircraft-and-aerodynamics/ title="Aircraft and aerodynamics" class=md-nav__link> Aircraft and aerodynamics </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/rail-vehicles/ title="Rail vehicles" class=md-nav__link> Rail vehicles </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/boats/ title=Boats class=md-nav__link> Boats </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/motorbikes/ title=Motorbikes class=md-nav__link> Motorbikes </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/tracked-vehicles/ title="Tracked vehicles" class=md-nav__link> Tracked vehicles </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/vehicle-concepts/ title="Vehicle (Node/Beam) concepts" class=md-nav__link> Vehicle (Node/Beam) concepts </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/suspension/ title=Suspension class=md-nav__link> Suspension </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/wheels-axles-steering/ title="Wheels, axles, steering" class=md-nav__link> Wheels, axles, steering </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/special-components/ title="Special components" class=md-nav__link> Special components </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/weight-tuning/ title="Weight tuning" class=md-nav__link> Weight tuning </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/making-custom-hud/ title="Making custom dashboard HUD" class=md-nav__link> Making custom dashboard HUD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> Terrain creation <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Terrain creation" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Terrain creation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../intro/ title="Intro to terrain creation" class=md-nav__link> Intro to terrain creation </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Terrn2 file format <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Terrn2 file format" class="md-nav__link md-nav__link--active"> Terrn2 file format </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#terrain-2-terrn2-file-format class=md-nav__link> Terrain 2 (.terrn2) file format </a> </li> <li class=md-nav__item> <a href=#ogre-terrain-config-otc class=md-nav__link> Ogre Terrain Config (.otc) </a> </li> <li class=md-nav__item> <a href=#ogre-terrain-page-config-otc class=md-nav__link> Ogre Terrain Page Config (.otc) </a> <nav class=md-nav aria-label="Ogre Terrain Page Config (.otc)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#format-overview class=md-nav__link> Format overview </a> </li> <li class=md-nav__item> <a href=#layer-definitions class=md-nav__link> Layer definitions </a> </li> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#terrain-objects-tobj class=md-nav__link> Terrain Objects (.tobj) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../terrain-conversion-terrn2/ title="Converting old terrain to terrn2 format" class=md-nav__link> Converting old terrain to terrn2 format </a> </li> <li class=md-nav__item> <a href=../editing-terrain-objects/ title="Editing terrain objects" class=md-nav__link> Editing terrain objects </a> </li> <li class=md-nav__item> <a href=../object-format/ title="Object (odef) file format" class=md-nav__link> Object (odef) file format </a> </li> <li class=md-nav__item> <a href=../collision-meshes/ title="Collision meshes" class=md-nav__link> Collision meshes </a> </li> <li class=md-nav__item> <a href=../l3dt-map-making/ title="L3DT Map Making" class=md-nav__link> L3DT Map Making </a> </li> <li class=md-nav__item> <a href=../shadows/ title=Shadows class=md-nav__link> Shadows </a> </li> <li class=md-nav__item> <a href=../building-rail-tracks/ title="Building rail tracks" class=md-nav__link> Building rail tracks </a> </li> <li class=md-nav__item> <a href=../race-generator/ title="Race script generator" class=md-nav__link> Race script generator </a> </li> <li class=md-nav__item> <a href=../scripting/ title=Scripting class=md-nav__link> Scripting </a> </li> <li class=md-nav__item> <a href=../raw-heightmaps/ title="RAW Heightmaps" class=md-nav__link> RAW Heightmaps </a> </li> <li class=md-nav__item> <a href=../custom-texture-splatting/ title="Alpha splatting" class=md-nav__link> Alpha splatting </a> </li> <li class=md-nav__item> <a href=../old-terrn-subsystem/ title="Old (0.3x) terrain file format" class=md-nav__link> Old (0.3x) terrain file format </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Rules <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Rules data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Rules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rules/terms-of-service/ title="Terms of Service" class=md-nav__link> Terms of Service </a> </li> <li class=md-nav__item> <a href=../../rules/rules-unwritten/ title=UNWRITTEN class=md-nav__link> UNWRITTEN </a> </li> <li class=md-nav__item> <a href=../../rules/rules-stolen-content/ title="STOLEN CONTENT" class=md-nav__link> STOLEN CONTENT </a> </li> <li class=md-nav__item> <a href=../../rules/rules-nice/ title=NICE class=md-nav__link> NICE </a> </li> <li class=md-nav__item> <a href=../../rules/rules-backseat/ title=BACKSEAT class=md-nav__link> BACKSEAT </a> </li> <li class=md-nav__item> <a href=../../rules/rules-begging/ title=BEGGING class=md-nav__link> BEGGING </a> </li> <li class=md-nav__item> <a href=../../rules/rules-useless/ title=USELESS class=md-nav__link> USELESS </a> </li> <li class=md-nav__item> <a href=../../rules/rules-search/ title=SEARCH class=md-nav__link> SEARCH </a> </li> <li class=md-nav__item> <a href=../../rules/rules-grammar/ title=GRAMMAR class=md-nav__link> GRAMMAR </a> </li> <li class=md-nav__item> <a href=../../rules/rules-singularity/ title=SINGULARITY class=md-nav__link> SINGULARITY </a> </li> <li class=md-nav__item> <a href=../../rules/rules-links/ title=LINKS class=md-nav__link> LINKS </a> </li> <li class=md-nav__item> <a href=../../legal/crash-report-privacy-policy/ title="Crash Report Privacy Policy" class=md-nav__link> Crash Report Privacy Policy </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/branding/ title=Branding class=md-nav__link> Branding </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#terrain-2-terrn2-file-format class=md-nav__link> Terrain 2 (.terrn2) file format </a> </li> <li class=md-nav__item> <a href=#ogre-terrain-config-otc class=md-nav__link> Ogre Terrain Config (.otc) </a> </li> <li class=md-nav__item> <a href=#ogre-terrain-page-config-otc class=md-nav__link> Ogre Terrain Page Config (.otc) </a> <nav class=md-nav aria-label="Ogre Terrain Page Config (.otc)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#format-overview class=md-nav__link> Format overview </a> </li> <li class=md-nav__item> <a href=#layer-definitions class=md-nav__link> Layer definitions </a> </li> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#terrain-objects-tobj class=md-nav__link> Terrain Objects (.tobj) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org/blob/master/source/terrain-creation/terrn2-subsystem.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=terrain-subsystem-terrn2>Terrain subsystem (Terrn2)<a class=headerlink href=#terrain-subsystem-terrn2 title="Permanent link">&para;</a></h1> <p>This is a technical reference of terrain system in Rigs of Rods. It provides commented examples of various files needed to compose a terrn2 terrain.</p> <p>If you're new to terrain creation, read <a href=/terrain-creation/intro>intro to terrain creation</a> first.</p> <p><br> <!-- Ugly hack to make space for TOC --> <br> <br> <br></p> <h2 id=terrain-2-terrn2-file-format>Terrain 2 (.terrn2) file format<a class=headerlink href=#terrain-2-terrn2-file-format title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=c1>## ============================================================================== </span>
<span class=c1>## *.terrn2 file = Entry point for RoR 0.4 map</span>
<span class=c1>#</span>
<span class=c1>## File is organized into sections denoted by [SectionName] lines.</span>
<span class=c1>## Sections consist of &quot;key = value&quot; pairs.</span>
<span class=c1>## Comments start with hash &#39;#&#39; character.</span>
<span class=c1>## Boolean values can be 1, true, yes | 0, false, no</span>
<span class=c1>## </span>
<span class=c1>## ==============================================================================</span>

<span class=c1>## (Required) General section, provides basic info.</span>
<span class=o>[</span>General<span class=o>]</span>

    <span class=c1>## (String) Name of the map, displayed in menu.</span>
    <span class=nv>Name</span> <span class=o>=</span> YourMap

    <span class=c1>## (FileName) File with terrain geometry info.</span>
    <span class=nv>GeometryConfig</span> <span class=o>=</span> YourMap.otc

    <span class=c1>## (Boolean) Use water in the terrain?</span>
    <span class=nv>Water</span> <span class=o>=</span> <span class=m>1</span>

    <span class=c1>## (Real) Height of water surface.</span>
    <span class=nv>WaterLine</span> <span class=o>=</span> <span class=m>6</span>

    <span class=c1>## (Real) Height of the black ground plane</span>
    <span class=nv>WaterBottomLine</span> <span class=o>=</span> -150

    <span class=c1>## (RGB, float notation) Color of the ambient light.</span>
    <span class=nv>AmbientColor</span> <span class=o>=</span> <span class=m>1</span>,1,1

    <span class=c1>## (FileName) Config file for the Caelum system (sky/weather/sun).</span>
    <span class=nv>CaelumConfigFile</span> <span class=o>=</span> YourMap.os

    <span class=c1>## (FileName) Config file for the Hydrax (water rendering)</span>
    <span class=nv>HydraxConfigFile</span> <span class=o>=</span> YourMap.hdx

    <span class=c1>## (XYZ position) Starting position of player.</span>
    <span class=nv>StartPosition</span> <span class=o>=</span> <span class=m>256</span>, <span class=m>10</span>, <span class=m>256</span>

    <span class=c1>## (String) Name of the cubemap (sky) to use.</span>
    <span class=c1>## You can use &quot;tracks/skyboxcol&quot; which comes with RoR.</span>
    <span class=nv>SandStormCubeMap</span> <span class=o>=</span> tracks/skyboxcol

    <span class=c1>## (Real) Gravity power. Earth gravity is &quot;-9.81&quot;. </span>
    <span class=nv>Gravity</span> <span class=o>=</span> -9.81

    <span class=c1>## (Integer) Category ID. Valid numbers for v0.4.0.7:</span>
    <span class=c1>##   129 = Addon Terrains</span>
    <span class=c1>##   5000 = Official Terrains</span>
    <span class=nv>CategoryID</span> <span class=o>=</span> <span class=m>129</span>

    <span class=c1>## (Integer) Terrain version</span>
    <span class=nv>Version</span> <span class=o>=</span> <span class=m>1</span>

    <span class=c1>## (GUID string) Required. Use generator link below.</span>
    <span class=nv>GUID</span> <span class=o>=</span> YourID

    <span class=c1>## (Filename) Link to &#39;landuse&#39; file. </span>
    <span class=nv>TractionMap</span> <span class=o>=</span> YourMap-landuse.cfg

<span class=c1>## (Optional) Authors, shown in menu.</span>
<span class=o>[</span>Authors<span class=o>]</span>    

    <span class=c1>## (&quot;String = String&quot; pairs) Contributed work = Name</span>
    <span class=nv>terrain</span> <span class=o>=</span> Yourname
    trees<span class=p>&amp;</span><span class=nv>grass</span> <span class=o>=</span> Yourname
    <span class=nv>textures</span> <span class=o>=</span> Yourname
    <span class=nv>objects</span> <span class=o>=</span> Yourname

<span class=c1>## (Optional) Items placed on terrain.</span>
<span class=o>[</span>Objects<span class=o>]</span>

    <span class=c1>## Names of TerrainObject files, ending with &quot;=&quot;.</span>
    YourMapobj.tobj<span class=o>=</span>
    YourMapMoreobj.tobj<span class=o>=</span>

<span class=c1>## Executable scripts asociated with the map.    </span>
<span class=o>[</span>Scripts<span class=o>]</span>

    <span class=c1>## Names of AngelScript files, ending with &quot;=&quot;.</span>
    SomeScripts.as<span class=o>=</span>
    MoreScripts.as<span class=o>=</span>
</code></pre></div> <p>Generate GUID for your map: <a href=http://www.guidgenerator.com/ >http://www.guidgenerator.com/</a></p> <h2 id=ogre-terrain-config-otc>Ogre Terrain Config (.otc)<a class=headerlink href=#ogre-terrain-config-otc title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=c1>## ==============================================================================</span>
<span class=c1>## Ogre Terrain Config (.otc) file</span>
<span class=c1>## Defines heightmap, texture layers and shader options</span>
<span class=c1>#</span>
<span class=c1>## Format is INI without sections, `Key=Value` pairs, NO SPACES AROUND `=`!</span>
<span class=c1>## Boolean values can be: 1, true, yes | 0, false, no</span>
<span class=c1>## ==============================================================================</span>

<span class=c1>## (Integer, default 0) The number of terrain pages in X direction</span>
<span class=c1>## 0 means that you only have one page</span>
<span class=nv>PagesX</span><span class=o>=</span><span class=m>0</span>

<span class=c1>## (Integer, default 0) The number of terrain pages in Z (logical Y) direction</span>
<span class=c1>## 0 means that you only have one page</span>
<span class=nv>PagesZ</span><span class=o>=</span><span class=m>0</span>

<span class=c1>## (Integer, default 1025) How large is a page of tiles (in vertices)? Must be (2^n)+1</span>
<span class=nv>PageSize</span><span class=o>=</span><span class=m>1025</span>

<span class=c1>## The pagefile format</span>
<span class=c1>## Default: {MAP_NAME}-page-{X}-{Z}.otc</span>
<span class=nv>PageFileFormat</span><span class=o>=</span>YourMap-<span class=o>{</span>X<span class=o>}</span>-<span class=o>{</span>Z<span class=o>}</span>.otc

<span class=c1>## Heightmap.X.Y</span>
<span class=c1>## The heightmap options, specified per-page</span>
Heightmap.0.0.raw.size<span class=o>=</span><span class=m>1025</span>
Heightmap.0.0.raw.bpp<span class=o>=</span><span class=m>2</span>
Heightmap.0.0.flipX<span class=o>=</span><span class=m>1</span>
Heightmap.0.0.flipY<span class=o>=</span><span class=m>1</span>

<span class=c1>## (Boolean) Flat terrain? If true, no heightmap will be loaded.</span>
<span class=nv>Flat</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Integer, default 1024) The world size of the terrain, in meters</span>
<span class=c1>## This setting is independent on heightmap resolution;</span>
<span class=c1>## for example using large heightmap with small world will yield in high-detail geometry.</span>
<span class=nv>WorldSizeX</span><span class=o>=</span><span class=m>1024</span>
<span class=nv>WorldSizeZ</span><span class=o>=</span><span class=m>1024</span>

<span class=c1>## (Integer, default 50) The factor with what the heightmap values get multiplied with</span>
<span class=nv>WorldSizeY</span><span class=o>=</span><span class=m>100</span>

<span class=c1>## (Integer, default 1024) Sets the default size of blend maps for a new terrain.</span>
<span class=c1>## This is the resolution of each blending layer for a new terrain.</span>
<span class=nv>LayerBlendMapSize</span><span class=o>=</span><span class=m>1024</span>

<span class=c1>## disableCaching=1 will always enforce regeneration of the terrain,</span>
<span class=c1>## useful if you want to change the terrain config (.otc) and test it.</span>
<span class=c1>## Does not cache the objects on it.</span>
<span class=nv>disableCaching</span><span class=o>=</span><span class=m>1</span>

<span class=c1>## =============</span>
<span class=c1>## optimizations</span>
<span class=c1>## =============</span>

<span class=c1>## (Integer, default 33)</span>
<span class=c1>## Minimum batch size (along one edge) in vertices; must be 2^n+1. </span>
<span class=c1>## The terrain will be divided into tiles,</span>
<span class=c1>## and this is the minimum size of one tile in vertices (at any LOD).</span>
<span class=nv>minBatchSize</span><span class=o>=</span><span class=m>33</span>

<span class=c1>## (Integer, default 65)</span>
<span class=c1>## Maximum batch size (along one edge) in vertices; must be 2^n+1 and &lt;= 65. </span>
<span class=c1>## The terrain will be divided into hierarchical tiles,</span>
<span class=c1>## and this is the maximum size of one tile in vertices (at any LOD).</span>
<span class=nv>maxBatchSize</span><span class=o>=</span><span class=m>65</span>

<span class=c1>## (Boolean, default false)</span>
<span class=c1>## Whether to support a light map over the terrain in the shader, if it&#39;s present.</span>
<span class=nv>LightmapEnabled</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Boolean, default false) Whether to support normal mapping per layer in the shader.</span>
<span class=nv>NormalMappingEnabled</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Boolean, default false) Whether to support specular mapping per layer in the shader.</span>
<span class=c1>## IMPORTANT: Keep this enabled, otherwise  the specular map in the texture files</span>
<span class=c1>## won&#39;t be respected and your terrain will be ridiculously shiny.</span>
<span class=nv>SpecularMappingEnabled</span><span class=o>=</span><span class=nb>true</span>

<span class=c1>## (Boolean, default false) Whether to support parallax mapping per layer in the shader.</span>
<span class=nv>ParallaxMappingEnabled</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Boolean, default false)</span>
<span class=c1>## Whether to support a global colour map over the terrain in the shader, if it&#39;s present.</span>
<span class=nv>GlobalColourMapEnabled</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Boolean, default false) Whether to use depth shadows.</span>
<span class=nv>ReceiveDynamicShadowsDepth</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Integer, default 1024) Sets the default size of composite maps for a new terrain.</span>
<span class=nv>CompositeMapSize</span><span class=o>=</span><span class=m>1024</span>

<span class=c1>## (Integer, default 4000) Set the distance at which to start using a composite map if present.</span>
<span class=nv>CompositeMapDistance</span><span class=o>=</span><span class=m>4000</span>

<span class=c1>## (Integer, default 30) the default size of &#39;skirts&#39; used to hide terrain cracks.</span>
<span class=nv>SkirtSize</span><span class=o>=</span><span class=m>30</span>

<span class=c1>## (Integer, default 1024) Sets the default size of lightmaps for a new terrain.</span>
<span class=nv>LightMapSize</span><span class=o>=</span><span class=m>1024</span>

<span class=c1>## (Boolean, default false) Whether the terrain will be able to cast shadows.</span>
<span class=nv>CastsDynamicShadows</span><span class=o>=</span><span class=nb>false</span>

<span class=c1>## (Integer, default 5)</span>
<span class=c1>## Set the maximum screen pixel error that should  be allowed when rendering</span>
<span class=nv>MaxPixelError</span><span class=o>=</span><span class=m>3</span>

<span class=c1>## (Boolean, default false) dump the blend maps to files named blendmap_layer_X.png</span>
<span class=nv>DebugBlendMaps</span><span class=o>=</span><span class=nb>false</span>
</code></pre></div> <h2 id=ogre-terrain-page-config-otc>Ogre Terrain Page Config (.otc)<a class=headerlink href=#ogre-terrain-page-config-otc title="Permanent link">&para;</a></h2> <p>The terrain consists of pages. Number of pages is defined by PagesX and PagesZ (described above). There must be at least 1 page.</p> <p>For each page, there must be an .otc file. File name format is set by PageFileFormat (described above). If there's just one page, it'll be named like "MapName-page-0-0.otc"</p> <p>The page-config file specifies a heightmap to use for the page and terrain texture layers.</p> <h3 id=format-overview>Format overview<a class=headerlink href=#format-overview title="Permanent link">&para;</a></h3> <ul> <li><strong>Line1:</strong> Heightmap <span style=color:#BD0058>(file name)</span>. For example: my_heightmap.png</li> <li><strong>Line2:</strong> Number of layers <span style=color:#BD0058>(integral number in range 1-6)</span> The OgreTerrain component has a limit of 6 layers (5 blendmaps)</li> <li><strong>Line3 and further:</strong> Layer definitions (see below)</li> </ul> <h3 id=layer-definitions>Layer definitions<a class=headerlink href=#layer-definitions title="Permanent link">&para;</a></h3> <ul> <li>Lines starting with semicolon ''' ' ; ' ''' are comments</li> <li>Layer definition line has these values, separated by ''' ' , ' ''' comma :<ul> <li><strong>size</strong> <span style=color:#BD0058>(real number 1-2048)</span> The target size of the texture on the terrain</li> <li><strong>diffusespecular</strong> <span style=color:#BD0058>(file name)</span> The filename of the texture with the following format: RGB=Diffuse Color, A=Specular map</li> <li><strong>normalheight</strong> <span style=color:#BD0058>(file name)</span> The filename of the texture with the following format: RGB=Normal map, A=Heightmap for parallax mapping</li> <li><strong>blendmap</strong> <span style=color:#BD0058>(file name)</span> Blendmap texture file name</li> <li><strong>blendmapmode</strong> <span style=color:#BD0058>(One capital letter: R / G / B / A)</span> Which color channel of the blendmap use for blending this layer.</li> <li><strong>opacity</strong> <span style=color:#BD0058>(Real number 0-1)</span> Setting to 0 makes layer invisible.</li> </ul> </li> </ul> <p>Layer at position #0 is a ground layer - it covers the entire page and thus needs no <strong>blendmap</strong>. It only accepts first 3 arguments: [size] [diffusespecular] [normalheight]</p> <p>Layers #1 - #5 only cover areas which have a corresponding color in the <strong>blendmap</strong>.</p> <p>For explanation of used images, see <a href=/tools-tutorials/images-color-channels>Images &amp; color channels</a></p> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=m>31</span>-heightmap.png
<span class=m>6</span>
<span class=p>;</span> Params: <span class=o>[</span>worldSize<span class=o>]</span>, <span class=o>[</span>diffusespecular<span class=o>]</span>, <span class=o>[</span>normalheight<span class=o>]</span>, <span class=o>[</span>blendmap<span class=o>]</span>, <span class=o>[</span>blendmapmode<span class=o>]</span>, <span class=o>[</span>alpha<span class=o>]</span>
<span class=p>;</span> The ground layer:
<span class=m>3</span>.3  , <span class=m>31</span>-gravel_diffusespecular.dds , <span class=m>31</span>-gravel_normalheight.dds
<span class=p>;</span> Other layers:
<span class=m>6</span>    , <span class=m>31</span>-rock_diffusespecular.dds   , <span class=m>31</span>-rock_normalheight.dds   , <span class=m>31</span>-surfaces2.png, B, <span class=m>0</span>.9
<span class=m>5</span>    , <span class=m>31</span>-sand_diffusespecular.dds   , <span class=m>31</span>-sand_normalheight.dds   , <span class=m>31</span>-surfaces2.png, G, <span class=m>0</span>.9
<span class=m>4</span>    , <span class=m>31</span>-grass_diffusespecular.dds  , <span class=m>31</span>-grass_normalheight.dds  , <span class=m>31</span>-surfaces1.png, G, <span class=m>0</span>.8
<span class=m>3</span>    , <span class=m>31</span>-asphalt_diffusespecular.dds, <span class=m>31</span>-asphalt_normalheight.dds, <span class=m>31</span>-surfaces1.png, R, <span class=m>0</span>.95
<span class=m>1024</span> , <span class=m>31</span>-shadow_diffusespecular.dds , <span class=m>31</span>-shadow_normalheight.dds , <span class=m>31</span>-shadow.png   , R, <span class=m>0</span>.8
</code></pre></div> <h2 id=terrain-objects-tobj>Terrain Objects (.tobj)<a class=headerlink href=#terrain-objects-tobj title="Permanent link">&para;</a></h2> <p>Defines object placement on terrain. More info: <a href=/terrain-creation/intro/#static-objects-1>Static objects</a></p> <hr> <div class=md-source-date> <small> Last update: May 18, 2020 </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../intro/ title="Intro to terrain creation" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Intro to terrain creation </div> </div> </a> <a href=../terrain-conversion-terrn2/ title="Converting old terrain to terrn2 format" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Converting old terrain to terrn2 format </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Rigs of Rods Community </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.b39636ac.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>